ICP	Internet Content Provider		网络内容服务提供者
ISP	Internet Services Provider	互联网接入服务提供者
WSDL Web Services Description Language 网络服务描述语言
XML eXtensible Markup Language 可扩展标识语言
部省系统	Management system of MIIT or CA	部级系统或省局系统



5 接口功能
    5.1 备案数据上报
        5.1.1 ICP备案管理
            企业侧系统上报的ICP备案数据主要包括以下几种类型：
                1)	新增备案：向省局系统提出新增ICP备案申请；
                2)	新增互联网信息服务：为已经完成备案的ICP主体增加新的网站/APP/小程序/快应用；
                3)	新增接入：为已经完成备案的ICP服务信息增加新的接入；
                4)	变更接入：更新已经完成备案的ICP服务信息的接入信息；
                5)	变更互联网信息服务：更新已经完成备案的ICP网站/APP信息/小程序/快应用；
                6)	变更主体：更新已经完成备案的ICP互联网信息服务的主体信息；
                7)	变更备案：更新已完成备案的ICP主体、互联网信息服务、域名或接入信息；
                8)	备案域名迁移：迁移已备案域名信息到新备案或已备案主体下，备案域名迁移业务需要双流程支撑，即每一个域名迁移流程，需要对应的剔除域名（注销/变更）流程支撑完成；
                9)	互联网信息服务迁移：将已备案网站/APP信息/小程序/快应用（含接入信息），迁移到新备案或已备案主体下；
                10)	上报真实性核验电子件：为已完成备案的ICP备案记录增加真实性核验材料的电子扫描件；
                11)	注销互联网信息服务：注销已经完成备案的ICP备案记录，包括注销主体、注销网站/APP/小程序/快应用和取消接入；
                12)	未备案互联网信息服务处理结果：提交对未备案网站/APP/小程序/快应用进行处理后的结果；

    5.2 备案数据下载
        5.2.1 ICP备案数据（ICP 33）
            省局系统以文件的形式将需要下发给企业的数据保存在省局系统，企业侧系统可以连接省局系统下载已下发给本单位的ICP备案数据文件，包括
                1)	ICP备案数据；（BASJ）
                2)	注销数据；（ZXSJ）
                3)	黑名单列表；（HMDLB）
                4)	非法接入黑名单；（FFJRHMD）
                5)	未备案互联网信息服务列表；（WBAWZLB）
                6)	ICP备案结果数据；（BAJG）
                7)	ICP核查结果。（HCJG）

        5.2.2 数据同步（SJTB 5787）
            企业侧系统上的备案数据与省局系统备案数据不一致时，可以人工请求省局系统管理人员对异常数据进行同步。企业侧系统可以连接其所在省的省局系统，下载已下发给本单位的备案数据，包括：
                1） ICP备案数据；（ICP）
                2） 基础代码数据；（JCDM）   当前查询基础信息
                3） 黑名单数据。（HMDLB）

        5.2.3 基础代码数据（JCDM 4004）
            企业侧系统可以连接其所在省的省局系统下载已下发给本单位的基础代码数据，包括：
                1)	报备单位列表；
                2)	单位分类代码信息；
                3)	单位性质代码信息；
                4)	区域代码信息；
                5)	意见反馈问题分类代码信息；
                6)	管局信息；
                7)	行业分类代码信息；
                8)	行政级别代码信息；
                9)	证件类型代码信息；
                10)	互联网信息服务经营类型代码信息；
                11)	互联网信息服务服务类型代码信息；
                12)	互联网信息服务接入方式代码；
                13)	注销理由代码；
                14)	域名类型代码；
                15)	核实意见代码；
                16)	未备案互联网信息服务处理状态代码；
                17)	附件文件格式代码；
                18)	附件用途类型代码；
                19)	互联网信息服务语言类别代码；
                20)	即时通讯基础代码；
                21)	应用服务类型代码；
                22)	资源记录类型代码。

    5.3　企业最近一次上报备案数据及其序号查询
        企业侧系统通过其所在省的省局系统查询本企业最近一次上报的备案数据及其序号。
    5.4　是否备案查询
        企业侧系统通过其所在省的省局系统查询互联网信息服务或主体是否已经完成ICP备案。
    5.5　接入资源报备
        企业侧系统要与企业所在省份的部/省系统进行对接，并将接入资源上报到部/省系统。具体要求如下：
            1) 企业侧系统需要提供接入资源数据下载的SFTP服务器，部省系统使用企业提供的SFTP服务端下载数据文件；
            2) 企业侧系统在约定周期内，封装新增和删除的接入资源数据为文件，上传到SFTP服务器，数据格式和上报文件命名规范，详见（9.1.2节），每周一上报全量数据，周二至周日每天上报增量数据。具体约定如下：


6 接口流程
    6.1 数据上报流程
        1）	企业侧系统调用isp_upload()，将备案数据上报至所在省的省局系统；
        2）	省局系统接收企业侧上报的备案数据，完成信息校验后进行保存；
        3）	省局系统将接收结果返回企业侧系统。
    6.2 数据下载流程
        1）	企业侧系统调用isp_download()，访问其所在省的省局系统；
        2）	省局系统查询是否有需要该企业下载的数据，若有则压缩文件下发；否则，告知企业侧系统没有数据需要下载；
        3）	企业侧系统接收省局系统下发的数据，校验通过后，调用isp_downloadack()向省局系统进行回馈；
        4）	省局系统根据企业侧系统的回馈信息确定是否需要将刚才下发文件状态更新为已发布，并返回企业侧更新结果，以及是否还有数据需要下载；
        5）	如果还有数据需要下载，企业侧系统重复以上步骤，直到没有数据文件需要下载。
    6.3　企业最近一次上报备案数据及其序号查询流程
        1）	企业侧系统调用isp_querypreviousupload()，将查询请求上报至所在省的省局系统；
        2）	省局系统查询企业侧系统最近一次上报的备案数据信息；
        3）	省局系统将查询结果返回企业侧系统。
    6.4　是否备案查询流程
        1）	企业侧系统调用isp_querybeianstatus()，将查询请求上报至所在省的省局系统；
        2）	省局系统接收企业侧上报的查询条件，查询对应的互联网信息服务或主体是否完成ICP备案，若已经备案，查询备案信息；
        3）	省局系统将查询结果返回企业侧系统。
    6.5　接入资源报备流程
        1）	企业将上报的接入数据文件（文件格式请参见9.1.2节）进行打包、压缩；
        2）	上报文件压缩后，文件大小需控制在1GB以内，如果超过1GB，需要拆分为多个文件来上报。（文件命名规则 见 9.1.2.4节）；
        3）	对压缩文件进行加密；
        4）	对加密后的文件进行哈希（md5，可使用Linux系统的md5sum命令计算哈希值）计算，并生成校验文件；
        5）	企业将加密后的压缩文件和校验文件放到SFTP服务端下载目录；
        6）	省局系统通过SFTP下载企业服务器上的接入资源数据文件；
        7）	省局系统对下载的接入数据文件进行（如果文件为分割文件则合并）校验、解压和解析；
        8）	如果校验、解压或解析失败，则向企业相关负责人发送短信和邮件通知。

7 接口方法
    7.1 版本说明
        接口方法使用的XML格式数据含有接口版本信息，使用XML根节点元素“version”属性的值进行标识。版本号格式为V.5.0，所有依据本标准生成的XML文件须填写本版本号。
        省局系统要校验当前系统支持的接口版本，版本校验通过后方能进行下一步处理，否则返回版本错误提示信息。
    7.2 方法说明
        所有接口地址均采用https协议发布
        7.2.1 isp_upload方法
            7.2.1.1	服务请求地址
                https://服务器IP地址/ISPWebService/upDownLoad?wsdl
            7.2.1.2	方法原型
                public String isp_upload (Long ispId, String userName, String randVal, String pwdHash, String beianInfo, String beianInfoHash, Long dataSequence, int encryptAlgorithm, int hashAlgorithm, int compressionFormat)
            7.2.1.3	方法描述
                企业侧系统通过调用本方法实现ICP、IP地址或域名备案信息、未备案互联网信息服务处理结果等备案数据的上报。
                企业侧系统在调用该接口方法时，需要生成长度为20个字节的随机字符串（数字和大、小写字母），并将省局系统分配的口令与该随机字符串连接（例如，口令是字符串“1234567890”，生成的随机字符串是“iPVFOyQsIOZJtYJFv4ig”，那么连接后的结果是字符串“1234567890 iPVFOyQsIOZJtYJFv4ig”）。将连接后的结果转换为UTF-8编码的二进制数据，使用hashAlgorithm定义的哈希算法进行哈希计算，得到参数pwdHash的值作为认证信息。
                企业侧系统在调用该方法上报备案数据时，一次调用只能上报一个XML格式的数据文件，并且所上报的XML数据文件大小不能超过50MB，单个XML数据文件内的备案数据不能超过1000条。
                企业侧系统上报的数据文件名必须使用英文字母或数字，文件名长度不超过128个字节。
                企业侧系统在上报完数据文件后，建议保存该数据文件3个月以上，以保证系统处理文件出现错误时重新上传数据文件。
                企业侧系统要对需要上报的备案信息编制XML文件，然后依序进行如下处理：
                1)	对XML文件使用参数compressionFormat指定的压缩格式进行压缩；
                2)	对压缩后的信息使用参数hashAlgorithm指定的哈希算法计算哈希值，并对哈希值进行base64编码运算形成beianInfoHash；
                3)	如需加密上传，则对压缩后的信息使用参数encryptAlgorithm指定的加密算法加密，并对加密结果进行base64编码运算形成beianInfo；如不加密上传，则直接对压缩后的信息进行base64编码运算形成beianInfo。
            7.2.1.4	参数描述
                参数名称	参数类型	参数描述
                ispId	长整型	接入服务提供者的标识，由省管局系统产生
                userName	字符串	用户名，由省管局系统产生
                randVal	字符串	企业侧系统调用该方法时生成的随机字符串，长度是20字节
                pwdHash	字符串	使用指定的哈希算法对用户密码和随机字符串进行哈希运算，然后进行base64编码运算得到的结果，用户口令由省管局系统产生
                beianInfo	字符串	对备案信息使用压缩算法进行压缩，再对压缩后的信息进行加密，然后进行Base64编码运算得到的结果
                beianInfoHash	字符串	对备案信息压缩后进行哈希运算得到的哈希值
                dataSequence	长整型	本次数据上报的数据编号
                encryptAlgorithm	整型	对称加密算法 0：不进行加密，明文传输 1：AES加密算法，加密密钥由省管局系统产生
                hashAlgorithm	整型	哈希算法 0：MD5哈希算法
                compressionFormat	整型	压缩格式 0：Zip压缩格式
            7.2.1.5	返回值
                该方法返回一个XML数据流，描述了本次操作的结果代码、结果描述（参见第10章接口返回代码）。

        7.2.2 isp_download方法
            7.2.2.1	服务请求地址
                https://服务器IP地址/ISPWebService/upDownLoad?wsdl
            7.2.2.2	方法原型
                public String isp_download (Long ispId, String userName, String randVal, String pwdHash , int hashAlgorithm)
            7.2.2.3	方法描述
                通过该方法，企业侧系统可以下载省管局系统下发的备案管理数据文件。
                企业侧系统在调用该接口方法时，需要生成长度为20个字节的随机字符串（数字和大、小写字母），并将省局系统分配的口令与该随机字符串连接（例如，口令是字符串“1234567890”，生成的随机字符串是“iPVFOyQsIOZJtYJFv4ig”，那么连接后的结果是字符串“1234567890 iPVFOyQsIOZJtYJFv4ig”）。将连接后的结果转换为UTF-8编码的二进制数据，使用hashAlgorithm定义的哈希算法进行哈希计算，得到参数pwdHash的值作为认证信息。
                省局系统接收到企业侧系统的下载请求后，将需要下发给该企业的备案管理数据文件依次进行如下处理：
                1)	对XML数据文件使用指定的压缩格式进行压缩；
                2)	对压缩后的信息使用哈希算法计算哈希值，然后对哈希值进行base64编码运算；
                3)	如需加密下载，则对压缩后的信息使用指定的加密算法加密，然后对加密结果进行base64编码运算；如不加密下载，则直接对压缩后的信息进行base64编码运算形成beianInfo。
                省局系统将上述处理后的哈希值、编码运算后的加密（或者明文）结果、哈希算法、加密算法、压缩格式返回给企业系统。
            7.2.2.4	参数描述
                ispId	长整型	接入服务提供者的标识，由省管局系统产生
                userName	字符串	用户名，由省管局系统产生
                randVal	字符串	企业侧系统调用该方法时生成的随机字符串，长度是20字节
                pwdHash	字符串	使用指定的哈希算法对用户密码和随机字符串进行哈希运算，然后进行base64编码运算得到的结果，用户口令由省管局系统产生
                hashAlgorithm	整型	哈希算法 0：MD5哈希算法
            7.2.2.5	返回值
                该方法返回一个XML数据流，其中描述了本次操作的结果代码、结果描述（参见第10章接口返回代码）。
                如果成功下载数据文件，企业侧系统需要对数据文件进行解密，并验证数据文件的完整性。若验证成功，则应调用本标准中的第7.2.3节的“isp_downloadack”方法，将已正确接收到该文件的信息回执发送给省管局系统。

        7.2.3 isp_downloadback方法
            7.2.3.1	服务请求地址
                https://服务器IP地址/ISPWebService/upDownLoad?wsdl
            7.2.3.2	方法原型
                public String isp_downloadack (Long ispId, String userName, String randVal, String pwdHash , int hashAlgorithm, String fileName)
            7.2.3.3	方法描述
                企业侧系统在调用isp_download方法，成功下载备案管理数据文件完毕后，需要调用本方法，将已成功接收到下载文件的信息回执发送给省局系统。
                企业侧系统在调用该接口方法时，需要生成长度为20个字节的随机字符串（数字和大、小写字母），并将省局系统分配的口令与该随机字符串连接（例如，口令是字符串“1234567890”，生成的随机字符串是“iPVFOyQsIOZJtYJFv4ig”，那么连接后的结果是字符串“1234567890 iPVFOyQsIOZJtYJFv4ig”）。将连接后的结果转换为UTF-8编码的二进制数据，使用hashAlgorithm定义的哈希算法进行哈希计算，得到参数pwdHash的值作为认证信息。
            7.2.3.4	参数描述
                ispId	长整型	接入服务提供者的标识，由省管局系统产生
                userName	字符串	用户名，由省管局系统产生
                randVal	字符串	企业侧系统调用该方法时生成的随机字符串，长度是20字节
                pwdHash	字符串	使用指定的哈希算法对用户密码和随机字符串进行哈希运算，然后进行base64编码运算得到的结果，用户口令由省管局系统产生
                hashAlgorithm	整型	哈希算法 0：MD5哈希算法
                fileName	字符串	在isp_download方法中已成功接收到的备案信息文件名
            7.2.3.5	返回值
                该方法返回一个XML数据流，其中描述了本次操作的结果代码、结果描述（参见第10章接口返回代码）。

        7.2.4 isp_querypreviousupload方法
            7.2.4.1	服务请求地址
                https://服务器IP地址/ISPWebService/upDownLoad?wsdl
            7.2.4.2	方法原型
                public String isp_querypreviousupload(Long ispId, String userName, String randVal, String pwdHash, int hashAlgorithm)
            7.2.4.3	方法描述
                企业侧系统调用isp_querypreviousupload方法，查询本企业最近一次上报的备案数据及其序号。
                注：
                1.	本方法在企业侧系统出现故障后，可以使用本方法与部级系统或省局系统进行通信参数的同步；企业侧系统在调用本方法得到数据文件序号后，在下次上报数据文件时，使用的文件序号应为本方法返回的数据文件序号加1；
                2.	企业侧系统在未进行数据上报操作时，调用本方法返回的数据文件为空，文件序号为0。
                企业侧系统在调用该接口方法之前，首先要产生长度为20个字节的随机字符串（数字和大、小写字母），并将口令与该随机字符串连接（例如，口令是字符串“1234567890”，生成的随机字符串是“abcdefghij”，那么连接后的结果是字符串“1234567890abcdefghij”）。将连接后的结果转换为UTF-8编码的二进制数据，使用hashAlgorithm定义的哈希算法进行哈希计算，得到参数pwdHash的值作为认证信息。
            7.2.4.4	参数描述
                ispId	长整型	接入服务提供者的标识，可在部/省局系统的公共查询中查询得到
                userName	字符串	用户名，由企业所在省管局（或部管局）维护管理
                randVal	字符串	企业侧系统调用该方法时生成的随机字符串，长度是20字节
                pwdHash	字符串	使用指定的哈希算法对用户密码和随机字符串进行哈希运算，然后进行base64编码运算得到的结果，用户口令由企业所在省管局（或部管局）维护管理
                hashAlgorithm	整型	哈希算法 0:MD5哈希算法
            7.2.4.5	返回值
                该方法返回一个XML数据流（详见文件“企业最近上载数据查询方法调用返回数据格式.xsd”），其中描述了本次操作的结果代码、结果描述。
                如果成功，返回以下信息：
                <return>
                <msg_code>0</msg_code>
                <msg>代码描述</msg>
                <fileInfos>
                    <hashAlgorithm>哈希算法</hashAlgorithm>
                    <compressionFormat>压缩格式</compressionFormat>
                    <encryptAlgorithm>加密算法</encryptAlgorithm>
                    <dataSequence>数据文件序号</dataSequence>
                    <return_FileName>上次上报的备案数据文件名</return_FileName>
                    <beianInfo>上次上报备案信息内容</beianInfo>
                    <beianInfoHash>备案信息的哈希值</beianInfoHash>
                </fileInfos>
                </return>
                企业侧系统收到上述数据后，首先对beianInfo信息进行base64解码，接着对解码后的信息使用encryptAlgorithm指定的加密算法解密，在得到备案信息的压缩信息后，再使用hashAlgorithm指定的哈希算法计算哈希值，然后与beianInfoHash信息base64解码后的信息进行比较。如果比较一致，那么备案信息的完整性得到保证；如果比较不一致，则哈希值验证未通过，备案数据不完整。最后，在通过完整性校验后，使用compressionFormat指定的压缩格式对压缩后的信息进行解压缩，得到备案数据信息。
                如果操作错误，返回以下信息：
                <return>
                <msg_code>x</msg_code>
                <msg>错误描述</msg>
                </return>
        7.2.5	isp_querybeianstatus方法
            7.2.5.1	服务器请求地址
                https://服务器IP地址/BeianStatusWebService/queryBeianStatus?wsdl
            7.2.5.2	方法原型
                public String isp_querybeianstatus(Long ispId, String userName, String randVal, String pwdHash , int hashAlgorithm, String queryInfo , String queryInfoHash)
            7.2.5.3	方法描述
                企业侧系统可以通过该方法查询互联网信息服务或主体的备案状态（即：是否已经完成备案）。如果互联网信息服务已经备案，则返回该互联网信息服务（网站或APP/小程序/快应用）的名称、主体备案号和互联网信息服务备案号；如果主体已经备案，则返回该主体的主体备案号。
                企业侧系统在调用该接口方法时，需要生成长度为20个字节的随机字符串（数字和大、小写字母），并将省局系统分配的口令与该随机字符串连接（例如，口令是字符串“1234567890”，生成的随机字符串是“iPVFOyQsIOZJtYJFv4ig”，那么连接后的结果是字符串“1234567890 iPVFOyQsIOZJtYJFv4ig”）。
                将连接后的结果转换为UTF-8编码的二进制数据，使用hashAlgorithm定义的哈希算法进行哈希计算，得到参数pwdHash的值作为认证信息。
            7.2.5.4	参数描述
                ispId	长整型	接入服务提供者的标识，由省管局系统产生
                userName	字符串	用户名，由省管局系统产生
                randVal	字符串	企业侧系统调用该方法时生成的随机字符串，长度是20字节
                pwdHash	字符串	使用指定的哈希算法对用户密码和随机字符串进行哈希运算，然后进行base64编码运算得到的结果，用户口令由省管局系统产生
                hashAlgorithm	整型	哈希算法 0：MD5哈希算法
                queryInfo	字符串	查询内容，按表130将备案状态查询条件封装成xml格式的字符串，采用CBC模式、PKCS5Padding补码方式实现的AES加密算法进行加密，然后进行base64编码运算得到的结果
                queryInfoHash	字符串	对查询条件的xml流进行哈希运算得到的哈希值
            7.2.5.5	返回值
                该方法返回一个XML数据流，其中描述了本次操作的结果代码、结果描述以及是否备案信息（参见第10章接口返回代码）。

    7.3　下载备案数据格式
        7.3.1 ICP下载数据格式
            7.3.1.1 ICP备案数据
            7.3.1.2 注销数据
            7.3.1.3 黑名单列表
            7.3.1.4 非法接入黑名单信息
            7.4.1.5 未备案互联网信息服务信息
            7.4.1.6 备案结果
            7.4.1.7 核查结果
        7.3.2基础代码下载数据格式
            7.3.2.1 相关通知信息

8　交换接口使用要求
    8.1　省局系统的数据交换接口服务建设要求
       按照本标准要求，省局系统要建设数据交换接口服务，为企业侧系统提供ICP备案信息的上报及备案数据的下载功能。
       省局系统的数据交换接口服务建设，应保证对企业侧系统提供正常的ICP备案管理数据上报和下载服务。
       由于企业侧系统对数据交换接口服务的访问是不可控的，在访问高峰时段，容易形成数据交换接口服务的访问瓶颈，影响到系统的访问性能。为避免出现无法访问、访问速度慢的情况，应充分考虑系统建设的网络访问量、网络带宽需求，并充分考虑系统的自我防护能力。
    8.2　企业侧系统的建设要求
       企业侧系统通过对省局系统的数据交换接口访问，实现ICP备案信息的备案数据上报和备案相关数据的下载功能。
       企业侧系统需按照标准要求进行建设，并在运行过程中主动降低对数据交换接口服务的访问频率。
       企业侧系统需要为部省系统提供接入资源数据访问的SFTP服务器，并且须保证访问服务器的可用性。

9　数据格式定义
    9.1　上报备案数据格式
        9.1.1	ICP上报数据格式
            9.1.1.1	新增备案
                企业请求流水号，由企业端系统生成的报备唯一标识。
            9.1.1.2	新增互联网信息服务(推测为小场景备案)
                新增互联网信息服务是指为已完成备案的ICP主体新增加ICP互联网信息服务信息数据的操作，该操作可以同时变更ICP主体信息。
                企业请求流水号，由企业端系统生成的报备唯一标识。
            9.1.1.3	新增接入
                新增接入是指为已完成备案的ICP互联网信息服务新增加接入信息数据的操作，支持为同一主体下不同互联网信息服务同时新增接入。
                企业请求流水号，由企业端系统生成的报备唯一标识。
            9.1.1.4 变更接入
                更新已经完成备案的ICP互联网信息服务的接入信息，支持为同一主体下不同互联网信息服务同时变更接入。
                企业请求流水号，由企业端系统生成的报备唯一标识。
            9.1.1.5	变更互联网信息服务
                更新已经完成备案的ICP互联网信息服务信息。
                企业请求流水号，由企业端系统生成的报备唯一标识。
            9.1.1.6	变更主体
                更新已经完成备案的互联网信息服务的主体信息，当主办单位所在地发生变化时，备案序号将会重新生成。
                企业请求流水号，由企业端系统生成的报备唯一标识。
            9.1.1.7	变更备案
                对已经完成备案的ICP备案数据进行信息变更。
                企业请求流水号，由企业端系统生成的报备唯一标识。
            9.1.1.8	备案域名迁移
                备案域名迁移业务是指迁移已备案域名信息到新备案或其他已备案主体下，该业务需要在迁移流程同时完成原网站域名变更/注销流程。当前版本接口中，备案域名迁移仅支持网站域名的迁移，暂不支持移动应用程序的备案域名迁移。
                企业请求流水号，由企业端系统生成的报备唯一标识。
            9.1.1.9	备案互联网信息服务迁移
                备案互联网信息服务迁移是指将已备案互联网信息服务信息（含接入信息），迁移到新备案或其他已备案主体下。
                企业请求流水号，由企业端系统生成的报备唯一标识。
            9.1.1.10 上报真实性核验电子件
                为已完成备案的ICP备案记录增加真实性核验材料的电子扫描件。
                企业请求流水号，由企业端系统生成的报备唯一标识。
            9.1.1.11 注销备案
                企业请求流水号，由企业端系统生成的报备唯一标识。
            9.1.1.12 未备案处理结果
                企业请求流水号，由企业端系统生成的报备唯一标识。

        9.1.2 接入资源数据格式
            接入资源包括业务、网络资源两部分，企业侧系统按要求上报接入企业的业务、网络资源数据和相应的数据删除操作（上报数据格式见表74、表75、表76）。
            9.1.2.1 业务资源数据
            9.1.2.2 网络资源数据
            9.1.2.3 删除数据
            9.1.2.4 文件命名规则

        9.1.3　备案状态查询条件数据格式


10　接口返回代码
    10.1　接口返回状态代码表
        调用接口方法isp_upload、isp_download、isp_querypreviousupload、isp_downloadack、isp_querybeianstatus时返回msg_code
        代码	信息描述
        0	操作成功
        1	操作成功，数据已经下载完毕
        2	目前服务器端没有可以下载的数据
        3	服务器端数据需要下载，请继续调用本接口进行下载
        4	用户名错误
        5	密码错误
        6	解密失败
        7	哈希值验证未通过
        8	解压缩失败
        9	加密算法类型错误
        10	Hash算法类型错误
        11	压缩格式错误
        12	认证信息错误，服务器拒绝响应
        13	非本省ISP，服务器拒绝响应
        14	本次上载没有受理，请首先上载漏报的数据，然后再上载本次数据
        15	本次上载没有受理，已上报的数据文件已超过最大受理数量，请稍后再提交
        16	认证错误，随机数小于20个字符，服务器拒绝响应
        17	您上报的备案数据文件数量不符合要求（每次必须上报1个文件），服务器拒绝受理，请调整后重新上报
        18	上报的备案数据文件过大，服务器拒绝响应，请将上报的备案数据文件调整为50MB内并重新上报
        19	您的报备权限未开放，请联系所在省通信管理局
        20	请您在规定的时间段内进行报备，报备时间为：
        21	回调响应文件名称不能为空，请核实后继续调用
        901	系统正在维护中，您的报备请求未被受理，请稍后重新报备
        902	系统正在维护中，您的下载请求未被受理，请稍后重新下载
        999	其他错误

    10.2　数据处理结果代码表
        10.2.1	ICP数据处理类错误






--------------------------------
企业上传数据格式：
新增备案，申请ICP备案
element name="XZBA" minOccurs="0"

新增服务，为已经完成备案的ICP主体增加新的服务
element name="XZWZ" minOccurs="0"

新增接入，为已经完成备案的ICP网站增加新的接入
element name="XZJR" minOccurs="0"

变更备案，更新已完成备案的ICP主体、服务、域名或接入等相关信息
element name="BGBA" minOccurs="0"

变更主体，更新已完成备案的ICP主体相关信息，当主办单位所在地发生变化时，备案序号将会重新生成。
element name="BGZT" minOccurs="0"

变更网站，更新已完成备案的网站、域名或接入等相关信息
element name="BGWZ" minOccurs="0"

变更接入，更新已完成备案网站或APP的接入信息, 注：小程序，快应用类型没有变更接入业务
element name="BGJR" minOccurs="0"

单独提交真实性核验材料电子件
element name="XZHYD" minOccurs="0"

域名迁移，迁移已备案域名信息到新备案或已备案主体下。域名迁移业务需要双流程支撑，即每一个域名迁移流程，需要对应的剔除域名（注销/变更）流程支撑完成。
element name="YMQY" minOccurs="0"

网站迁移，把已备案网站信息（含接入信息），迁移到新备案或已备案主体下。
element name="WZQY" minOccurs="0"

注销备案，注销已经完成备案的ICP备案记录，包括注销主体、注销网站、取消接入
element name="ZXBA" minOccurs="0"

未备案处理结果，对省通信管理局下发的未备案网站进行处理后的结果
element name="WBACLJG" minOccurs="0"

核验材料接入商核实结果
element name="HYCLHSJG" minOccurs="0"

接入资源信息，必须包含增删改三种操作之一
element name="JRZY"






ICP备案数据 BASJ   1

注销数据 ZXSJ   0

黑名单列表 HMDLB  0

非法接入黑名单 FFJRHMD

未备案网站列表 WBAWZLB

备案结果 BAJG 1

核实任务 HSRW

核验材料 HYCL

核查结果 HCJG

相关通知 XGTZ




















